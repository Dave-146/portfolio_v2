<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="https://www.davidcrean.com/">  
    <title>North Ventures Branding | Dave Crean Design</title>
    <meta name="description" content="Designed North Ventures' brand and app to inspire adventure and let users customize their Canadian tours.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.davidcrean.com/projects/north_ventures_branding/">
    <meta property="og:title" content="North Ventures Branding | Dave Crean Design">
    <meta property="og:description" content="Designed North Ventures' brand and app to inspire adventure and let users customize their Canadian tours.">
    <meta property="og:image" content="https://www.davidcrean.com/images/cover_project-3.gif">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.davidcrean.com/projects/north_ventures_branding/">
    <meta property="twitter:title" content="North Ventures Branding | Dave Crean Design">
    <meta property="twitter:description" content="Designed North Ventures' brand and app to inspire adventure and let users customize their Canadian tours.">
    <meta property="twitter:image" content="https://www.davidcrean.com/images/cover_project-3.gif">

    <!-- External resources -->
    
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Comfortaa:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind config -->
    <script>
        .carousel-slides {
            display: flex;
            width: 600%;  /* 100% * 6 slides */
        }
        .carousel-slides img {
            width: 16.666667%;  /* 100% / 6 slides */
            height: auto;
            flex-shrink: 0;
            object-fit: contain;
            object-position: center;
        }
        .brand-dot.active {
            background-color: white !important;
        }
    </style>

    <!-- Brand Lightbox Structure -->
    <div id="brandImageLightbox" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 hidden p-4 md:p-8">
        <div class="bg-white p-3 md:p-4 rounded-lg shadow-xl relative w-full max-w-3xl transform transition-all duration-300 ease-out scale-95 opacity-0" id="brandLightboxCard">
            <!-- Lightbox Image -->
            <img id="brandLightboxImage" src="" alt="Enlarged image" class="w-full h-auto max-h-[75vh] object-contain rounded-md">
            
            <!-- Close Button -->
            <button id="closeBrandLightbox" class="absolute -top-3 -right-3 md:-top-4 md:-right-4 bg-primary hover:bg-opacity-80 text-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center text-lg md:text-xl shadow-lg z-10">&times;</button>
            
            <!-- Prev Button -->
            <button id="prevBrandLightboxImage" class="absolute top-1/2 left-2 md:left-4 transform -translate-y-1/2 bg-black bg-opacity-30 hover:bg-opacity-50 text-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center text-xl md:text-2xl shadow-md z-10">
                <i class="ri-arrow-left-s-line"></i>
            </button>
            
            <!-- Next Button -->
            <button id="nextBrandLightboxImage" class="absolute top-1/2 right-2 md:right-4 transform -translate-y-1/2 bg-black bg-opacity-30 hover:bg-opacity-50 text-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center text-xl md:text-2xl shadow-md z-10">
                <i class="ri-arrow-right-s-line"></i>
            </button>
        </div>
    </div>

    <script src="js/script.js"></script>
    <script>
        // Control gif playback with instant, flash-free transition
        document.addEventListener('DOMContentLoaded', function() {
            
            function createFlashFreeGifTransition(gifElement, staticSrc, fadeInDelay, transitionDelay) {
                if (!gifElement) return;
                
                // Create static image element
                const staticImg = new Image();
                staticImg.onload = function() {
                    // Show the gif first
                    setTimeout(() => {
                        gifElement.classList.remove('opacity-0');
                    }, fadeInDelay);
                    
                    // After gif plays, do instant switch with zero flash
                    setTimeout(() => {
                        // Get parent container
                        const parent = gifElement.parentNode;
                        parent.style.position = 'relative';
                        
                        // Create static image with exact same position and size
                        const replacement = staticImg.cloneNode();
                        replacement.className = gifElement.className
                            .replace('opacity-0', '')
                            .replace('transition-opacity', '')
                            .replace('duration-1000', '')
                            .trim();
                        replacement.alt = gifElement.alt;
                        replacement.style.position = 'absolute';
                        replacement.style.top = '0';
                        replacement.style.left = '0';
                        replacement.style.width = '100%';
                        replacement.style.height = '100%';
                        replacement.style.objectFit = 'contain';
                        replacement.style.pointerEvents = 'none';
                        replacement.style.transition = 'none';
                        replacement.style.opacity = '1';
                        
                        // Add static image on top of gif
                        parent.appendChild(replacement);
                        
                        // Immediately hide the gif without removing it
                        gifElement.style.opacity = '0';
                        gifElement.style.transition = 'none';
                        
                        // Clean up after a brief moment
                        setTimeout(() => {
                            gifElement.remove();
                            replacement.style.position = 'static';
                            replacement.style.top = 'auto';
                            replacement.style.left = 'auto';
                            replacement.style.width = 'auto';
                            replacement.style.height = 'auto';
                            parent.style.position = '';
                        }, 50); // Very brief delay for cleanup
                    }, transitionDelay);
                };
                
                // Start loading the static image
                staticImg.src = staticSrc;
            }
            
            // Hero gif - fade in immediately, instant switch at 4000ms  
            createFlashFreeGifTransition(
                document.getElementById('heroGif'),
                'images/north_ventures_branding/North Ventures Mockup hero.png',
                0,
                4000
            );
            
            // Research gif - fade in at 1000ms, instant switch at 5000ms
            createFlashFreeGifTransition(
                document.getElementById('researchGif'), 
                'images/north_ventures_branding/North Ventures Research.png',
                1000,
                5000
            );

            // App Mockup Play/Pause Functionality
            const playPauseBtn = document.getElementById('playPauseBtn');
            const playPauseIcon = document.getElementById('playPauseIcon');
            const appMockupVideo = document.getElementById('appMockupVideo');
            const appMockupStatic = document.getElementById('appMockupStatic');
            
            let isPlaying = false;
            let useVideoPlayback = false;

            // Check if video source is available and set up fallback
            function initializePlayback() {
                if (appMockupVideo) {
                    // Try to load the video to see if it exists
                    appMockupVideo.addEventListener('loadeddata', () => {
                        useVideoPlayback = true;
                        console.log('Video loaded successfully, using video playback with true pause/resume');
                    });
                    
                    appMockupVideo.addEventListener('error', () => {
                        useVideoPlayback = false;
                        console.log('Video not available, using improved GIF experience');
                        setupImprovedGifExperience();
                    });
                    
                    // Try to load the video
                    appMockupVideo.load();
                } else {
                    setupImprovedGifExperience();
                }
            }

            function setupImprovedGifExperience() {
                // Create a hidden GIF that stays loaded to minimize restart effect
                const hiddenGifContainer = document.createElement('div');
                hiddenGifContainer.style.position = 'absolute';
                hiddenGifContainer.style.left = '-9999px';
                hiddenGifContainer.style.top = '-9999px';
                hiddenGifContainer.style.width = '1px';
                hiddenGifContainer.style.height = '1px';
                hiddenGifContainer.style.overflow = 'hidden';
                
                const preloadGif = document.createElement('img');
                preloadGif.src = 'images/north_ventures_branding/North Ventures Mockup.gif';
                hiddenGifContainer.appendChild(preloadGif);
                document.body.appendChild(hiddenGifContainer);

                // Create visible GIF element
                const gifImg = document.createElement('img');
                gifImg.src = 'images/north_ventures_branding/North Ventures Mockup.gif';
                gifImg.className = 'max-w-full h-auto';
                gifImg.style.display = 'none';
                gifImg.id = 'appMockupGif';
                appMockupVideo.parentNode.insertBefore(gifImg, appMockupVideo);
            }

            if (playPauseBtn && playPauseIcon && appMockupStatic) {
                playPauseBtn.addEventListener('click', () => {
                    if (isPlaying) {
                        // Pause
                        if (useVideoPlayback && appMockupVideo) {
                            // True pause with video
                            appMockupVideo.pause();
                            appMockupVideo.style.display = 'none';
                        } else {
                            // Hide GIF (will restart when shown again, but user expects this)
                            const gifImg = document.getElementById('appMockupGif');
                            if (gifImg) {
                                gifImg.style.display = 'none';
                            }
                        }
                        
                        appMockupStatic.classList.remove('hidden');
                        playPauseIcon.className = 'ri-play-line text-xl';
                        isPlaying = false;
                    } else {
                        // Play
                        appMockupStatic.classList.add('hidden');
                        
                        if (useVideoPlayback && appMockupVideo) {
                            // Resume video from paused position
                            appMockupVideo.style.display = 'block';
                            appMockupVideo.play().catch(e => {
                                console.log('Video play failed, falling back to GIF');
                                useVideoPlayback = false;
                                const gifImg = document.getElementById('appMockupGif');
                                if (gifImg) {
                                    gifImg.style.display = 'block';
                                }
                            });
                        } else {
                            // Show GIF (will restart, but this is expected behavior for GIFs)
                            const gifImg = document.getElementById('appMockupGif');
                            if (gifImg) {
                                gifImg.style.display = 'block';
                            }
                        }
                        
                        playPauseIcon.className = 'ri-pause-line text-xl';
                        isPlaying = true;
                    }
                });

                // Initialize playback system
                initializePlayback();
            }

            // Brand Identity Carousel Functionality
            let currentBrandSlide = 0;
            const totalBrandSlides = 6;

            function moveBrandSlide(direction) {
                currentBrandSlide = (currentBrandSlide + direction + totalBrandSlides) % totalBrandSlides;
                updateBrandSlidePosition();
            }

            function goToBrandSlide(slideIndex) {
                currentBrandSlide = slideIndex;
                updateBrandSlidePosition();
            }

            function updateBrandSlidePosition() {
                const slides = document.querySelector('.carousel-slides');
                if (slides) {
                    slides.style.transform = `translateX(-${currentBrandSlide * (100/totalBrandSlides)}%)`;
                    
                    // Update dots
                    document.querySelectorAll('.brand-dot').forEach((dot, index) => {
                        dot.classList.toggle('active', index === currentBrandSlide);
                    });
                }
            }

            // Auto-advance slides every 5 seconds
            let brandAutoSlideInterval = setInterval(() => {
                moveBrandSlide(1);
            }, 5000);

            // Add event listeners for navigation buttons
            const brandPrevBtn = document.getElementById('brandPrevBtn');
            const brandNextBtn = document.getElementById('brandNextBtn');
            const brandDots = document.querySelectorAll('.brand-dot');

            if (brandPrevBtn) {
                brandPrevBtn.addEventListener('click', () => {
                    clearInterval(brandAutoSlideInterval);
                    moveBrandSlide(-1);
                    brandAutoSlideInterval = setInterval(() => {
                        moveBrandSlide(1);
                    }, 5000);
                });
            }

            if (brandNextBtn) {
                brandNextBtn.addEventListener('click', () => {
                    clearInterval(brandAutoSlideInterval);
                    moveBrandSlide(1);
                    brandAutoSlideInterval = setInterval(() => {
                        moveBrandSlide(1);
                    }, 5000);
                });
            }

            brandDots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    clearInterval(brandAutoSlideInterval);
                    goToBrandSlide(index);
                    brandAutoSlideInterval = setInterval(() => {
                        moveBrandSlide(1);
                    }, 5000);
                });
            });

            // Lightbox Logic for Brand Carousel
            const brandLightbox = document.getElementById('brandImageLightbox');
            const brandLightboxCard = document.getElementById('brandLightboxCard');
            const brandLightboxImage = document.getElementById('brandLightboxImage');
            const closeBrandLightboxBtn = document.getElementById('closeBrandLightbox');
            const brandCarouselImages = document.querySelectorAll('.carousel-slides img');
            const prevBrandLightboxBtn = document.getElementById('prevBrandLightboxImage');
            const nextBrandLightboxBtn = document.getElementById('nextBrandLightboxImage');
            let currentBrandLightboxIndex = 0;

            if (brandLightbox && brandLightboxCard && brandLightboxImage && closeBrandLightboxBtn && brandCarouselImages.length > 0 && prevBrandLightboxBtn && nextBrandLightboxBtn) {
                brandCarouselImages.forEach((image, index) => {
                    image.addEventListener('click', () => {
                        currentBrandLightboxIndex = index;
                        brandLightboxImage.src = image.src;
                        brandLightboxImage.alt = image.alt;
                        brandLightbox.classList.remove('hidden');
                        setTimeout(() => {
                            brandLightboxCard.classList.remove('scale-95', 'opacity-0');
                            brandLightboxCard.classList.add('scale-100', 'opacity-100');
                        }, 50);
                        clearInterval(brandAutoSlideInterval);
                    });
                });

                function closeBrandLightbox() {
                    brandLightboxCard.classList.remove('scale-100', 'opacity-100');
                    brandLightboxCard.classList.add('scale-95', 'opacity-0');
                    
                    setTimeout(() => {
                        brandLightbox.classList.add('hidden');
                    }, 300);

                    clearInterval(brandAutoSlideInterval);
                    brandAutoSlideInterval = setInterval(() => {
                        moveBrandSlide(1);
                    }, 5000);
                }

                closeBrandLightboxBtn.addEventListener('click', closeBrandLightbox);
                brandLightbox.addEventListener('click', (e) => {
                    if (e.target === brandLightbox) {
                        closeBrandLightbox();
                    }
                });

                function showBrandLightboxImage(index) {
                    if (index >= 0 && index < brandCarouselImages.length) {
                        brandLightboxImage.src = brandCarouselImages[index].src;
                        brandLightboxImage.alt = brandCarouselImages[index].alt;
                        currentBrandLightboxIndex = index;
                    }
                }

                prevBrandLightboxBtn.addEventListener('click', () => {
                    let newIndex = currentBrandLightboxIndex - 1;
                    if (newIndex < 0) {
                        newIndex = brandCarouselImages.length - 1;
                    }
                    showBrandLightboxImage(newIndex);
                });

                nextBrandLightboxBtn.addEventListener('click', () => {
                    let newIndex = currentBrandLightboxIndex + 1;
                    if (newIndex >= brandCarouselImages.length) {
                        newIndex = 0;
                    }
                    showBrandLightboxImage(newIndex);
                });

                // Keyboard navigation for lightbox
                document.addEventListener('keydown', (e) => {
                    if (!brandLightbox.classList.contains('hidden')) {
                        if (e.key === 'Escape') {
                            closeBrandLightbox();
                        } else if (e.key === 'ArrowLeft') {
                            prevBrandLightboxBtn.click();
                        } else if (e.key === 'ArrowRight') {
                            nextBrandLightboxBtn.click();
                        }
                    }
                });
            }
        });
    </script>
</body>
</html> 